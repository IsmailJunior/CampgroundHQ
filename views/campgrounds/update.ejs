<% layout('layouts/template') %>
<nav aria-label="breadcrumb">
  <ol class="breadcrumb">
	<li class="breadcrumb-item"><a href="/campgrounds">Campgrounds</a></li>
    <li class="breadcrumb-item"><a href="/campgrounds/<%=campground._id%>"><%=campground.title%></a></li>
    <li class="breadcrumb-item active" aria-current="page">Update Campground</li>
  </ol>
</nav>

<h1 class="text-center">Update Campground</h1>
	<form enctype="multipart/form-data" class="needs-validation row w-50  shadow-sm offset-3 my-3 border  p-3 rounded-3 g-3" action="/campgrounds/<%=campground._id%>?_method=PUT" method="POST" novalidate>
		<div class="col-md-6">
		<input class="form-control" placeholder="Title" autocomplete="off" required type="text" id="title" name="campground[title]" value="<%=campground.title%>">
		    <div class="valid-feedback">
      		Looks good!
    		</div>
		    <div class="invalid-feedback">
      		Please enter title!
    		</div>
		</div>
		<div class="col-md-6">
		<input class="form-control" placeholder="Location" autocomplete="off" required type="text" id="location" name="campground[location]" value="<%=campground.location%>">
			 <div class="valid-feedback">
      		Looks good!
    		</div>
		    <div class="invalid-feedback">
      		Please enter location!
    		</div>
		</div>

		<div class="col">
  			<textarea required name="campground[description]" autocomplete="off" maxlength="55" class="form-control" id="description" placeholder="Description" rows="3"><%=campground.description%></textarea>
			<div class="valid-feedback">
      		Looks good!
    		</div>
		    <div class="invalid-feedback">
      		Please enter description!
    		</div>
		</div>
		<div class="input-group col-auto">
		  <input multiple type="file" id="image" name="image" class="form-control" onchange="previewMultiple(event)">
			<span class="input-group-text" id="basic-addon1">$</span>
			<input class="form-control" required placeholder="* 0.00" autocomplete="off" pattern="^[1-9]\d*(\.\d+)?$" type="text" id="price" name="campground[price]" value="<%=campground.price%>">
			<div class="valid-feedback">
      		Looks good!
    		</div>
		    <div class="invalid-feedback">
      		Please fill this out! -
			* Only numbers allowed!
    		</div>
		</div>
		<div class="col-md-12">
		<select class="form-select" name="campground[time]" autocomplete="off" aria-label="Default select example" required>
		<option selected>Night</option>
		<option>Week</option>
  		<option>Month</option>
  		<option>Year</option>
		</select>
		</div>
				<div class="col-md-12">
					<h6>Select to delete images</h6>
					<hr>
			<% campground.images.forEach(function(img,i) {%>
				<label for="<%=i%>" class="w-100 d-inline form-check-label">
				<div class=" position-relative d-inline">
				<img src="<%=img.thumbnail%>" class="img-thumbnail w-25" style="height: 7rem;" alt="img">
  				<input class="position-absolute start-0  bottom-150" type="checkbox"id="<%=i%>" name="deleteImages[]" value="<%=img.filename%>">
				</div>
				</label>
				<%})%>
				<hr>
				<h6>Added images</h6>
			<div id="formFile" class="d-inline"></div>
		</div>
		<div class="col-md-6">
		<button class="btn btn-outline-info">Update Campground</button>
		</div>
		
	</form>

